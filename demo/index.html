<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
      <title>Aurora Viz</title>
      <link type="text/css" href="css/jquery-ui/custom/jquery-ui-1.8.16.custom.css" rel="stylesheet" />
      <link type="text/css" href="../lib/jQuery/tipsy/tipsy.css" rel="stylesheet" />
      <link type="text/css" href="css/main.css" rel="stylesheet" />
      <script type="text/javascript" src="lib/jQuery/jquery-1.4.2.min.js"></script>
      <script type="text/javascript" src="lib/jQuery/ui/js/jquery-ui-1.8.16.custom.min.js"></script>
   </head>
   <body>
      <div id="topBar"></div>
      <div class="body-cont gen-float">
         <div class="left-cont gen-float">
            <div id="accordion">
               <h3>
                  <a href="#">Canvas</a>
               </h3>
               <div>
                  <div class="inline">
                     <label for="height">Height </label> <input type="text" id="height" name="height" size="5" value="520" />
                  </div>
                  <div class="inline">
                     <label for="width">Width </label> <input type="text" id="width" name="width" size="5" value="830" />
                  </div>
                  <hr />
               </div>
               <div>
                  <h3>
                     <a href="#">Chart</a>
                  </h3>
                  <div>
                     <div>
                        <div class="inline">
                           <label for="chartTypes"> Chart Types </label> 
                           <select name="chartTypes" id="chartTypes">
                              <option value="select">Select a Chart</option>
                              <option value="Bar" selected="selected">Bar Chart</option>
                              <option value="Multibar">Multi Bar Chart</option>
                              <option value="Line">Line Chart</option>
                              <option value="Multiline">Multi Line Chart</option>
                              <option value="Pie">Pie Chart</option>
                              <option value="Donut">Donut Chart</option>
                              <option value="Bubble">Bubble Chart</option>
                              <option value="Area">Area Chart</option>
                              <option value="MultiArea">Multi Area Chart</option>
                              <option value="StackedArea">Stacked Area Chart</option>
                              <option value="Tree">Tree Chart</option>
                              <option value="Sunburst">SunBurst Chart</option>
                               <option value="Bullet">Bullet Chart</option>
                           </select>
                        </div>
                     </div>
                     <div class="inline">
                        <label>Caption </label> <input type="text" id="caption" value="Profit (Yearly)" size="20" />
                     </div>
                     <hr />
                     <div class="inline">
                        <label>y-axis label</label> <input type="text" id="yAxisName" size="15" value="Amount (in billions)" />
                     </div>
                     <div class="inline">
                        <label>x-axis label</label> <input type="text" id="xAxisName" size="15" value="Years" />
                     </div>
                     <hr />
                     <div class="inline">
                        <label> Tooltip </label> <input type="checkbox" checked="checked" id="toolTip" />
                     </div>
                    
                        <div class="inline">
                           <div>
                              <div class="inline"><label> Show Labels </label>
                                 <input type="checkbox" checked="checked" id="showLabels" />
                              </div><br/>
                              <label>Label Font Size: </label>
                              <div class="slider" id="labelFontSizeSlider"></div>
                              <input size="8" type="text" id="labelFontSize" disabled="disabled" value="12" />
                              <label>Label Color: </label>
                              <input value="#000000" class="izzyColor" size="8" type="text" id="labelFontColor" /><br/>
                              <label>Label Rotate Angle: </label>
                              <div class="slider" id="labelRotateAngleSlider"></div>
                              <input size="8" type="text" id="labelRotateAngle" disabled="disabled" value="0" />
                              <div class="inline"><label> Show Values </label>
                                 <input type="checkbox" checked="checked" id="showValues" />
                              </div>
                              <hr />
                           </div>
                        </div>
                         <div id="dataDiv">  <label> Type: </label>
                           <select id="type">
                              <option value="h">Horizontal</option >
                              <option selected="selected" value="v"> Vertical </option>
                           </select>
                     </div>
                  </div>
               </div>
               <div>
                  <h3>
                     <a href="#">Styling</a>
                  </h3>
                  <div>
                     <h4>Canvas</h4>
                     <label>Background Color: </label>
                     <input value="#FFFFFF" class="izzyColor" size="8" type="text" id="canvasFillColor" /> 
                     <label>Border Color: </label>
                     <input value="#CCCCCC" class="izzyColor" size="8" type="text" id="canvasBorderColor" /> 
                     <label>Border Thickness: </label><br />
                     <div class="slider" id="canvasBorderThicknessSlider"></div>
                     <input size="1" type="text" id="canvasBorderThickness" disabled="disabled" value="3" />
                     <hr />
                     <h4>Chart Area</h4>
                     <label>Background Color: </label>
                     <input value="#FFFFFF" class="izzyColor" size="8" type="text" id="chartFillColor" /> 
                     <hr />
                      <h4>Caption</h4>
                     <label> Color: </label>
                     <input value="#000000" class="izzyColor" size="8" type="text" id="captionColor" /> 
                     <label>Size: </label><br />
                     <div class="slider" id="captionSizeSlider"></div>
                     <input size="2" type="text" id="captionSize" disabled="disabled" value="20" />
                     <hr />
                     <h4>Axes</h4>
                     &nbsp; &nbsp; Horizontal<br /> 
                     <label>Color </label>
                     <input value="#CCCCCC" class="izzyColor" size="8" type="text" id="horAxisColor" /> 
                     <label>Thickness: </label>
                     <div class="slider" id="horAxisThicknessSlider"></div>
                     <input size="2" type="text" id="horAxisThickness" disabled="disabled" value="2" /> 
                     <label>Label Font Size: </label>
                     <div class="slider" id="horAxisLabelSizeSlider"></div>
                     <input size="8" type="text" id="horAxisLabelSize" disabled="disabled" value="12" /> <br/>
                     <label> Label Color: </label>
                     <input value="#000000" class="izzyColor" size="8" type="text" id="horAxisLabelColor" />
                     &nbsp; &nbsp; Vertical<br />
                     <br /> <label>Color </label>
                     <input value="#CCCCCC" class="izzyColor" size="8" type="text" id="verAxisColor" /> 
                     <label>Thickness: </label>
                     <div class="slider" id="verAxisThicknessSlider"></div>
                     <input size="1" type="text" id="verAxisThickness" disabled="disabled" value="2" /> 
                     <label>Label Font Size: </label>
                     <div class="slider" id="verAxisLabelSizeSlider"></div>
                     <input size="8" type="text" id="verAxisLabelSize" disabled="disabled" value="12" /> 
                     <label>Label Color: </label>
                     <input value="#000000" class="izzyColor" size="8" type="text" id="verAxisLabelColor" />
                     <hr />
                     <h4>Grid</h4>
                     &nbsp; &nbsp; Horizontal<br /> 
                     <label>Show: </label> 
                     <input type="checkbox" checked="checked" id="horGridShow" /><br /> 
                     <label>Color: </label> 
                     <input value="#CCCCCC" class="izzyColor" size="8" type="text" id="horGridColor" /> 
                     <label>Thickness: </label>
                     <div class="slider" id="horGridThicknessSlider"></div>
                     <input size="8" type="text" id="horGridThickness" value="1" disabled="disabled" /> <br />
                     <label>Label Show: </label>
                     <input type="checkbox" checked="checked" id="horGridLabelShow" /> <br />
                     &nbsp; &nbsp; Vertical<br />
                     <label> Show: </label> 
                     <input type="checkbox" checked="checked" id="verGridShow" /><br /> 
                     <label>Color: </label>
                     <input value="#CCCCCC" class="izzyColor" size="8" type="text" id="verGridColor" /> 
                     <label>Thickness: </label>
                     <div class="slider" id="verGridThicknessSlider"></div>
                     <input size="8" type="text" id="verGridThickness" value="1" disabled="disabled" /><br />
                     <label>Label Show: </label>
                     <input type="checkbox" id="verGridLabelShow" /> <br />
                  </div>
               </div>
                <h3>
                  <a href="#">Palette</a>
               </h3>
               <div>
               Please select your palette
               <!-- TODO: Change the name from presetPalette to Palette -->
               <select id="presetPalette"></select><br/><br/><br/>
               Customize your palette
               <div id="colors"></div>
               </div>
            </div>
            <button type="submit" id="generate" style="float: right;">Generate</button>
         </div>
         <div class="right-cont gen-float">
            <div id="chart" style="overflow: auto"></div>
         </div>
      </div>
      <script type="text/javascript" src="js/constants.js"></script>
      <script type="text/javascript" src="js/chart-generator.js"></script>
      <script type="text/javascript" src="../lib/protovis/protovis-d3.3.js"></script>
      <script type="text/javascript" src="../lib/jQuery/tipsy/jquery.tipsy.js"></script>
      <script type="text/javascript" src="../lib/jQuery/tipsy/tipsy.js"></script>
      <script type="text/javascript" src="izzyColor.js"></script>
      <script type="text/javascript" src="../src/aurora.js"></script>
      <script type="text/javascript" src="../src/bar.js"></script>
      <script type="text/javascript" src="../src/wedge.js"></script>
      <script type="text/javascript" src="../src/utility.js"></script>
      <script type="text/javascript" src="../src/bubble.js"></script>
      <script type="text/javascript" src="../src/area.js"></script>
      <script type="text/javascript" src="../src/line.js"></script>
      <script type="text/javascript" src="../src/tree.js"></script>
      <script type="text/javascript" src="../src/bullet.js"></script>
      <script type="text/javascript">
         $(function() {
        	 ARV.paletteColorCounter = 0;
        	 for(palette in AR.Utility.palettes){
        		var option = $('<option />').val(palette).append(palette);
        		if(palette === "Water"){
        			option.attr("selected","selected")
        		}
        		$('#presetPalette').append(option);
        	 }
         	// Accordion
         	$("#accordion").accordion({
         		header : "h3",
         		autoHeight : false,
         		navigation : true
         	});
         	$(".delColorBtn").live("click",function(){
             		var izzy = $(this).prev();
             		izzy.prev().remove();
             		izzy.remove();
             		$(this).remove();
             	});
         	$("#colors").live("click",function(){
         		console.log("changed");
         		ARV.paletteChanged = true;
         	});
         	$("#addColorBtn").live("click",function(){
     			$(this).before('<input value="#ffffff" class="colorInput izzyColor" size="8" type="text" id="color'+ARV.paletteColorCounter+'"/>');
     			$(this).before('<button id="color'+ ARV.paletteColorCounter++ +'"  class="delColorBtn ui-state-default ui-corner-all"><span class="ui-icon ui-icon-trash"></span></button>');
     			izzyColor();
         	});
         	function addColorsDiv (){
         		ARV.paletteChanged = false;
         		var selectedVal = $("#presetPalette option:selected").attr("value");
         		var colors =  AR.Utility.palettes[selectedVal];
         		var colorsDiv = $("#colors");
         		colorsDiv.html("");
         		for( ARV.paletteColorCounter = 0 ; ARV.paletteColorCounter< colors.length;ARV.paletteColorCounter++){
         			colorsDiv.append('<input value="'+ colors[ARV.paletteColorCounter] +'" class="colorInput izzyColor" size="8" type="text" id="color'+ARV.paletteColorCounter+'"/>');
         			colorsDiv.append('<button id="color'+ ARV.paletteColorCounter +'"  class="delColorBtn ui-state-default ui-corner-all"><span class="ui-icon ui-icon-trash"></span></button>');
         		}
         		colorsDiv.append('<button id="addColorBtn" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-circle-plus"></span></button><br/>')
         		izzyColor();
         	}
         	$("#presetPalette option").click(function() {
         		addColorsDiv();
         	});
         	function createSliders(){
         		$(".slider").each(function(){
         		var sliderID = $(this).attr("id");
         		var textID = sliderID.substr(0,sliderID.indexOf("Slider"));
         		var min = 0,max = 40;
         		if(sliderID.indexOf("Rotate") >= 0){
         			 min = -90;
         			 max = 90 	
         		}
         		$(this).slider({
         		range: "max",
         		min: min ,
         		max: max,
         		value: 2,
         		slide: function( event, ui ) {
         			$( "#"+textID).val( ui.value );
         		}
         	});
         		$(this).slider("value",$("#"+textID).val());
         		/* $( "#"+textID).val($(this).slider( "value" ) ); */
         		});
         	}
         	createSliders();
         	$("button").button();
         	$("#generate").click(function(event) {
         		$(".tipsy").remove();
         		ARV.modifyJSON();
         	});
         	$("#chartTypes option").click(function() {
         		var selectedVal = $("#chartTypes option:selected").attr("value");
         		console.log(selectedVal);
         		$("dataDiv").html("");
         		if (selectedVal !== "select") {
         			$("#dataDiv").html(ARV.con[selectedVal + "ChartOptions"])
         		} else {
         			$("#dataDiv").html("Please select a chart");
         		}
         		createSliders();
         		izzyColor();
         		
         	});
         	ARV.modifyJSON();
         	addColorsDiv();
         });
      </script>
   </body>
</html>
